# 40 тз к визуализациям Visiology

**Принцип:** Все примеры описывают **типовые кейсы**, где данные подтягиваются из Visiology без привязки к конкретным сущностям (магазины, люди, регионы). 
Один виджет работает для любого датасета с соответствующей структурой.

---

## Структура данных Visiology (одинаково для всех примеров)

```js

{
    items: [
    {   
        keys: [value_dim0, value_dim1, ...], 
        values: [metric0_value, metric1_value, ...], 
        cols: ["Dimension0", "Dimension1", "Metric0", "Metric1", ...]
    }
  ]

}


```

---

## 1. Столбчатая диаграмма с группировкой

**Библиотека:** Chart.js | **Тип:** Grouped Bar Chart

**Конфигурация:**
- **Оси X:** dimensions[0] (любая категория: регион, отдел, день, источник и т.д.)
- **Группировка:** dimensions[1] (вторая категория для разбивки: период, тип, статус и т.д.)
- **Ось Y:** metrics[0] (любая числовая величина)

**Типовой кейс:** Сравнение значения категории по подкатегориям

**Трансформация:** Группировать по dim0, создать датасеты по dim1 из metric0

---

## 2. Круговая диаграмма с донутом

**Библиотека:** ECharts | **Тип:** Pie / Donut

**Конфигурация:**
- **Сегменты:** dimensions[0] (любая категориальная переменная)
- **Значения:** metrics[0] (объёмы, доли, количества)

**Типовой кейс:** Структура целого по категориям

**Трансформация:** Преобразовать каждую строку в точку `{name: dim0, value: metric0}`

---

## 3. Иерархическая тепловая карта (Treemap)

**Библиотека:** D3.js | **Тип:** Treemap

**Конфигурация:**
- **Иерархия:** dimensions[0], dimensions[1], dimensions[2] (3 уровня вложенности)
- **Размер:** metrics[0] (основная метрика)
- **Цвет:** metrics[1] (опциональная вторая метрика для окраски)

**Типовой кейс:** Иерархическое распределение ресурса с оценкой качества

**Трансформация:** Построить дерево, площадь = metric0, цвет = metric1

---

## 4. Интерактивная сеть связей (Force-Directed Graph)

**Библиотека:** D3.js | **Тип:** Force-Directed Graph

**Конфигурация:**
- **Источник:** dimensions[0] (первый элемент связи)
- **Цель:** dimensions[1] (второй элемент связи)
- **Вес связи:** metrics[0] (сила взаимодействия)
- **Дополнительный параметр:** metrics[1] (опционально для размера узлов)

**Типовой кейс:** Отношения между двумя типами сущностей

**Трансформация:** Создать граф узлов и связей с физикой отталкивания

---

## 5. Линейный график с анимацией и областями

**Библиотека:** ECharts | **Тип:** Line / Area Chart

**Конфигурация:**
- **Ось X:** dimensions[0] (временная или категориальная ось: время, дата, период)
- **Серии:** dimensions[1] (разные линии для каждой категории)
- **Ось Y:** metrics[0] (основная метрика)
- **Опционально:** metrics[1] (дополнительная метрика для второго слоя)

**Типовой кейс:** Тренд основной метрики во времени с разбивкой по категориям

**Трансформация:** Отсортировать по dim0, создать серии по dim1, значения = metric0

---

## 6. 3D рассеянный график (3D Scatter Plot)

**Библиотека:** ECharts | **Тип:** 3D Scatter Plot

**Конфигурация:**
- **Ось X:** metrics[0] (числовая метрика)
- **Ось Y:** metrics[1] (числовая метрика)
- **Ось Z:** metrics[2] (числовая метрика)
- **Категория (цвет):** dimensions[0] (для раскраски точек)

**Типовой кейс:** Многомерный анализ трёх числовых параметров

**Трансформация:** Точка = {x: metric0, y: metric1, z: metric2, color: dim0}

---

## 7. Спидометр / Датометр (Gauge Chart)

**Библиотека:** ECharts | **Тип:** Gauge Chart

**Конфигурация:**
- **Показатель:** dimensions[0] (название метрики)
- **Текущее значение:** metrics[0]
- **Целевое значение:** metrics[1] (максимум шкалы)

**Типовой кейс:** Процент выполнения плана / достижения целевого показателя

**Трансформация:** Калибровка: current = metric0, max = metric1, вычислить процент

---

## 8. Диаграмма Санкей (Sankey Diagram)

**Библиотека:** D3.js | **Тип:** Sankey / Alluvial

**Конфигурация:**
- **Источник:** dimensions[0] (откуда идёт поток)
- **Цель:** dimensions[1] (куда идёт поток)
- **Объём потока:** metrics[0] (ширина связи)

**Типовой кейс:** Переходы между состояниями / этапами воронки

**Трансформация:** Создать узлы и связи с объёмом = metric0

---

## 9. Календарная тепловая карта (Calendar Heatmap)

**Библиотека:** HTML5 Canvas + D3.js | **Тип:** Calendar Heatmap

**Конфигурация:**
- **Дата:** dimensions[0] (формат YYYY-MM-DD)
- **Категория:** dimensions[1] (разные календари для каждой категории)
- **Интенсивность:** metrics[0] (цветовая шкала от светлого к тёмному)

**Типовой кейс:** Ежедневная активность по категориям за период

**Трансформация:** Календарная сетка, цвет = normalized(metric0)

---

## 10. Полярная радиальная диаграмма (Nightingale Rose Chart)

**Библиотека:** ECharts | **Тип:** Polar Rose Chart

**Конфигурация:**
- **Оси (лучи):** dimensions[0] (категории вокруг круга: 6-12 лучей)
- **Серии:** dimensions[1] (разные розовые диаграммы для сравнения)
- **Радиус:** metrics[0] (расстояние от центра)

**Типовой кейс:** Радарное сравнение параметров нескольких объектов

**Трансформация:** Полярные координаты, radius = metric0, angle = index(dim0)

---

## 11. Гексагональная бининговая карта (Hexbin Map)

**Библиотека:** D3.js | **Тип:** Hexbin Density Map

**Конфигурация:**
- **Координата X:** metrics[0] (числовое значение для оси X)
- **Координата Y:** metrics[1] (числовое значение для оси Y)
- **Интенсивность:** metrics[2] или count (плотность в ячейке)

**Типовой кейс:** Плотность двумерного распределения

**Трансформация:** Гексагональная сетка, цвет = интенсивность в ячейке

---

## 12. Диаграмма Вороного (Voronoi Diagram)

**Библиотека:** D3.js | **Тип:** Voronoi Diagram

**Конфигурация:**
- **ID точки:** dimensions[0]
- **Координата X:** metrics[0]
- **Координата Y:** metrics[1]
- **Размер/Цвет:** metrics[2]

**Типовой кейс:** Зоны влияния точек на плоскости

**Трансформация:** Вороновская мозаика, каждая ячейка = ближайшей точке

---

## 13. Многомерная точечная диаграмма (Multidimensional Scatter)

**Библиотека:** ECharts | **Тип:** Scatter Plot с энкодингом

**Конфигурация:**
- **X:** metrics[0]
- **Y:** metrics[1]
- **Размер:** metrics[2]
- **Цвет:** dimensions[0]
- **Форма:** dimensions[1]

**Типовой кейс:** Анализ 5 переменных одновременно

**Трансформация:** Точка с кодированием всех свойств

---

## 14. Радиальная композиция с вложенностью

**Библиотека:** D3.js | **Тип:** Radial Layout

**Конфигурация:**
- **Угол:** dimensions[0] (разбиение по кругу)
- **Радиус:** metrics[0] (расстояние от центра)
- **Цвет:** metrics[1] (градиент)
- **Сегменты:** dimensions[1] (дополнительное разбиение)

**Типовой кейс:** Радиальное распределение с иерархией

**Трансформация:** Полярные координаты с многоуровневостью

---

## 15. Иерархическая тепловая карта (Treemap с кодированием)

**Библиотека:** D3.js | **Тип:** Advanced Treemap

**Конфигурация:**
- **Площадь:** metrics[0]
- **Цвет:** metrics[1] (градиент)
- **Иерархия:** dimensions[0], dimensions[1], dimensions[2]
- **Граница:** dimensions[3]

**Типовой кейс:** Иерархическое распределение с двумя метриками

**Трансформация:** Treemap + дополнительное цветовое кодирование

---

## 16. Потоковая диаграмма (Sankey / Alluvial)

**Библиотека:** ECharts | **Тип:** Sankey Diagram

**Конфигурация:**
- **Источник:** dimensions[0]
- **Цель:** dimensions[1]
- **Объём:** metrics[0]
- **Цвет узлов:** dimensions[2]

**Типовой кейс:** Потоки между двумя наборами категорий

**Трансформация:** Граф потоков с сохранением ширины связей

---

## 17. Временной ряд с накоплением (Stacked Area)

**Библиотека:** Chart.js | **Тип:** Stacked Area Chart

**Конфигурация:**
- **Ось X:** dimensions[0] (время)
- **Серии:** dimensions[1] (категории для стека)
- **Ось Y:** metrics[0], metrics[1], metrics[2] (несколько метрик)

**Типовой кейс:** Комбинированный тренд нескольких показателей

**Трансформация:** Стопочка областей, каждая — отдельная серия

---

## 18. Параллельные координаты (Parallel Coordinates)

**Библиотека:** ECharts | **Тип:** Parallel Coordinates

**Конфигурация:**
- **Оси:** metrics[0], metrics[1], metrics[2], metrics[3], metrics[4]
- **Цвет линии:** dimensions[0]
- **Толщина:** metrics[5]

**Типовой кейс:** Многомерное исследование взаимосвязей

**Трансформация:** N параллельных осей, линии = строки данных

---

## 19. Пузырьковая диаграмма с временной анимацией (Bubble Chart)

**Библиотека:** ECharts | **Тип:** Bubble Chart with Timeline

**Конфигурация:**
- **X:** metrics[0]
- **Y:** metrics[1]
- **Размер:** metrics[2]
- **Цвет:** dimensions[0]
- **Время:** dimensions[1] (для анимации)

**Типовой кейс:** Динамика трёх параметров во времени

**Трансформация:** Пузырьки с анимацией по временным кадрам

---

## 20. Радиальная древовидная диаграмма (Sunburst / Circular Packing)

**Библиотека:** D3.js | **Тип:** Sunburst / Circular Packing

**Конфигурация:**
- **Иерархия:** dimensions[0], dimensions[1], dimensions[2]
- **Размер:** metrics[0]
- **Цвет:** metrics[1] или dimensions[3]

**Типовой кейс:** Иерархическое распределение радиусов

**Трансформация:** Концентрические кольца или вложенные круги

---

## 21. Многомерная картограмма (Choropleth Map)

**Библиотека:** ECharts | **Тип:** Choropleth Map

**Конфигурация:**
- **География:** dimensions[0] (регионы, коды или координаты)
- **Цвет заливки:** metrics[0]
- **Размер маркеров:** metrics[1]
- **Форма маркеров:** dimensions[1]

**Типовой кейс:** Географическое распределение показателей

**Трансформация:** Регионы на карте, цвет = metric0

---

## 22. OHLC / Свечной график (Candlestick Chart)

**Библиотека:** Highcharts | **Тип:** Candlestick / OHLC

**Конфигурация:**
- **Время:** dimensions[0] (дата/время)
- **Open:** metrics[0]
- **High:** metrics[1]
- **Low:** metrics[2]
- **Close:** metrics[3]
- **Volume:** metrics[4]

**Типовой кейс:** Временная серия с диапазонами (мин/макс, открытие/закрытие)

**Трансформация:** Свечи (откр/закр по вертикали, диапазон по усам)

---

## 23. Полярная спираль (Polar Spiral Chart)

**Библиотека:** Highcharts | **Тип:** Polar Spiral

**Конфигурация:**
- **Последовательность:** dimensions[0] (порядковый номер или дата)
- **Радиус:** metrics[0]
- **Цвет:** dimensions[1]
- **Маркер:** metrics[1]

**Типовой кейс:** Циклические данные с временной спиралью

**Трансформация:** Спираль, где каждая витка = период, радиус = metric0

---

## 24. Гексагональная географическая карта (Hexagonal Tile Map)

**Библиотека:** D3.js | **Тип:** Hexagonal Tile Map

**Конфигурация:**
- **Регион (ID):** dimensions[0]
- **Цвет ячейки:** metrics[0]
- **Размер текста:** metrics[1]

**Типовой кейс:** Географическое распределение по регионам (любые регионы)

**Трансформация:** Гексагональная сетка с пользовательским кодом для любого региона

---

## 25. Интерактивная географическая карта с кластеризацией (Leaflet)

**Библиотека:** Leaflet + Marker Cluster | **Тип:** Map with Markers

**Конфигурация:**
- **Широта:** metrics[0]
- **Долгота:** metrics[1]
- **Название:** dimensions[0]
- **Цвет маркера:** dimensions[1]
- **Размер маркера:** metrics[2]

**Типовой кейс:** Географическое распределение точек на карте

**Трансформация:** Маркеры на координатах, кластеризация при масштабировании

---

## 26. Диаграмма Ганта (Gantt Chart)

**Библиотека:** Highcharts | **Тип:** Gantt Chart

**Конфигурация:**
- **Задача (Y):** dimensions[0]
- **Дата начала:** dimensions[1] (формат YYYY-MM-DD HH:MM:SS)
- **Дата окончания:** dimensions[2]
- **Выполнение:** metrics[0] (0-100)
- **Приоритет:** metrics[1]

**Типовой кейс:** Временный график выполнения действий с зависимостями

**Трансформация:** Горизонтальные полоски (от начала к концу), цвет/высота = приоритет

---

## 27. Временной ряд с доверительными интервалами (Line with Confidence Intervals)

**Библиотека:** ECharts | **Тип:** Line Chart with Bands

**Конфигурация:**
- **Время:** dimensions[0]
- **Точка:** metrics[0] (основная линия)
- **Минимум:** metrics[1]
- **Максимум:** metrics[2]
- **Фактическое значение:** metrics[3]

**Типовой кейс:** Прогноз с диапазоном неопределённости

**Трансформация:** Линия + полупрозрачная полоса между min и max

---

## 28. Календарная тепловая карта (Calendar Heatmap Advanced)

**Библиотека:** D3.js / ECharts | **Тип:** Calendar Heatmap

**Конфигурация:**
- **Дата:** dimensions[0] (YYYY-MM-DD)
- **Категория:** dimensions[1]
- **Основная интенсивность:** metrics[0]
- **Вторичная интенсивность:** metrics[1]

**Типовой кейс:** Ежедневная метрика по категориям за год

**Трансформация:** Календарь 7×52 с цветовой шкалой по metric0

---

## 29. Временной ряд с множественными осями Y (Multi-Axis Time Series)

**Библиотека:** Highcharts | **Тип:** Multi-Axis Line Chart

**Конфигурация:**
- **Время:** dimensions[0]
- **Тип метрики:** dimensions[1]
- **Метрики:** metrics[0], metrics[1], metrics[2], metrics[3], metrics[4]

**Типовой кейс:** Сравнение разнородных показателей (в разных единицах)

**Трансформация:** Несколько осей Y слева и справа, линии = разные метрики

---

## 30. Пузырьковая диаграмма с динамическим цветом (Bubble with Dynamic Color)

**Библиотека:** ECharts | **Тип:** Bubble Chart с градиентной окраской

**Конфигурация:**
- **X:** metrics[0]
- **Y:** metrics[1]
- **Размер:** metrics[2]
- **Цвет (градиент):** metrics[3]

**Типовой кейс:** Четыре метрики на одной диаграмме с цветовой шкалой

**Трансформация:** Пузыри с цветовой интерполяцией по metric3

---

## 31. Столбчатая диаграмма с градиентной окраской (Bar Chart with Gradient)

**Библиотека:** Chart.js | **Тип:** Bar Chart with Dynamic Color

**Конфигурация:**
- **Категория:** dimensions[0]
- **Значение (высота):** metrics[0]
- **Интенсивность (цвет):** metrics[1]

**Типовой кейс:** Столбцы с цветом, зависящим от второй метрики

**Трансформация:** Высота = metric0, цвет = normalize(metric1) → color gradient

---

## 32. Тепловая карта с динамической интерполяцией (Heatmap with Interpolation)

**Библиотека:** D3.js | **Тип:** Heatmap Matrix

**Конфигурация:**
- **Параметр X:** dimensions[0]
- **Параметр Y:** dimensions[1]
- **Значение:** metrics[0] (от -1 до 1, или любой диапазон)

**Типовой кейс:** Матрица корреляций или взаимосвязей

**Трансформация:** Матрица квадратов, цвет = interpolate(metric0)

---

## 33. Радиальная столбчатая диаграмма (Polar Bar Chart)

**Библиотека:** ECharts | **Тип:** Polar Bar Chart

**Конфигурация:**
- **Категория (луч):** dimensions[0]
- **Серия:** dimensions[1]
- **Длина столбца:** metrics[0]
- **Толщина границы:** metrics[1]

**Типовой кейс:** Сравнение показателей по лучам с разными группировками

**Трансформация:** Столбцы в полярных координатах

---

## 34. Диаграмма рассеяния с многомерным кодированием (Scatter with Size & Color)

**Библиотека:** D3.js | **Тип:** Scatter Plot

**Конфигурация:**
- **X:** metrics[0]
- **Y:** metrics[1]
- **Размер:** metrics[2]
- **Цвет:** metrics[3]
- **Категория (для легенды):** dimensions[0]

**Типовой кейс:** Четыре метрики на точечной диаграмме

**Трансформация:** Точки с кодированием размера и цвета

---

## 35. Каскадная диаграмма (Waterfall Chart)

**Библиотека:** ECharts | **Тип:** Waterfall Chart

**Конфигурация:**
- **Статья:** dimensions[0]
- **Значение:** metrics[0] (положительное/отрицательное)
- **Интенсивность:** metrics[1]

**Типовой кейс:** Разбор изменения значения по составляющим

**Трансформация:** Столбцы положительные/отрицательные с накоплением

---

## 36. Линейный график с динамической толщиной (Line with Variable Width)

**Библиотека:** ECharts | **Тип:** Line Chart with Width Encoding

**Конфигурация:**
- **Время:** dimensions[0]
- **Серия:** dimensions[1]
- **Значение (Y):** metrics[0]
- **Толщина линии:** metrics[1]

**Типовой кейс:** Тренд с риском / волатильностью / уверенностью

**Трансформация:** Линия, толщина = normalize(metric1)

---

## 37. Ранжированная столбчатая диаграмма (Ranked Bar Chart)

**Библиотека:** Chart.js | **Тип:** Horizontal Bar Chart (отсортированная)

**Конфигурация:**
- **Сущность:** dimensions[0]
- **Значение:** metrics[0] (для сортировки)
- **Доля:** metrics[1] (процент от суммы)

**Типовой кейс:** Топ-N с рейтингом

**Трансформация:** Отсортировать по metric0, цвет по рангу

---

## 38. Таблица / Сетка с условной окраской (Data Grid with Conditional Coloring)

**Библиотека:** D3.js Grid | **Тип:** Interactive Data Grid

**Конфигурация:**
- **Строка:** dimensions[0]
- **Колонка:** dimensions[1]
- **Текущее значение:** metrics[0]
- **Целевое значение:** metrics[1]
- **Процент достижения:** metrics[2]

**Типовой кейс:** Таблица KPI с цветовым кодированием

**Трансформация:** Ячейки с цветом = status(metric2)

---

## 39. Площадная диаграмма с динамическими цветами (Stacked Area with Dynamic Colors)

**Библиотека:** ECharts | **Тип:** Stacked Area Chart

**Конфигурация:**
- **Время:** dimensions[0]
- **Источник:** dimensions[1]
- **Сумма:** metrics[0]
- **Качество (для цвета):** metrics[1]

**Типовой кейс:** Структура источников во времени с индексом качества

**Трансформация:** Стопочка областей, цвет каждой = function(metric1)

---

## 40. Радиальная диаграмма компетенций (Radar / Spider Chart с интенсивностью)

**Библиотека:** ECharts | **Тип:** Radar Chart

**Конфигурация:**
- **Параметр (ось):** dimensions[0] (5-12 осей)
- **Объект (серия):** dimensions[1]
- **Значение:** metrics[0]
- **Риск / Качество:** metrics[1] (для толщины границы и прозрачности)

**Типовой кейс:** Многопараметрическое сравнение объектов

**Трансформация:** Лучевая диаграмма, радиус = metric0, толщина границы = metric1

---
